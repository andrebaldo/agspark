<section>
  <div class="page-header">
    <h1>{{vm.mensalista.nome}}</h1>
  </div>
  <div class="col-xs-12 col-md-12">
    <form name="vm.form.vigenciaForm" novalidate>
      <fieldset>
        <div >
          <div class="table">
            <div class="form-group">
              <div class="row">
                <div class="col-xs-12 col-md-12">
                  <label>Vigência:</label>
                  <span>{{vm.vigenciaPagamento.vigencia.mes + "/" + vm.vigenciaPagamento.vigencia.ano}}</span>
                </div>
              </div>

              <div class="row">
                <div class="col-xs-12 col-md-12">
                  <label>Período de validade:</label>
                </div>
              </div>
              <div class="row">
                <div class="col-xs-12 col-md-12 text-left" style="padding-left: 40px;">
                  <label>De:</label>
                  <span data-ng-bind="vm.vigenciaPagamento.periodovalidade.inicio | date:'dd/MM/yyyy'"></span>
                  <label>Até:</label>
                  <span data-ng-bind="vm.vigenciaPagamento.periodovalidade.fim | date:'dd/MM/yyyy'"></span>
                </div>
              </div>

              <div class="row">
                <div class="col-xs-12 col-md-12">
                  <label>Valor:</label>
                  <span data-ng-bind="vm.vigenciaPagamento.valor | number: 2"></span>
                </div>
              </div>

              <div class="row">
                <div class="col-xs-12 col-md-12">
                  <label>Situação:</label>
                  <strong><span data-ng-bind="vm.vigenciaPagamento.status === 'aberto' ? 'Aberto' : (vg.status === 'atraso' ? 'Em atraso' : 'Pago')" ng-class="vm.vigenciaPagamento.status === 'aberto' ? 'text-info' : (vm.vigenciaPagamento.status === 'atraso' ? 'text-danger' : 'text-success')"></span></strong>
                </div>
              </div>
            </div>

            <div class="row" ng-show="vm.vigenciaPagamento.valor > 0">
              <div class="col-xs-12 col-sm-12 text-left" >
                <button type="button" class="btn btn-primary" id="btnAddPagamento" ng-disabled="vm.vigenciaPagamento.status === 'pago'" data-toggle="collapse" data-target="#collapsePagamentos" scroll-to="valorFormaPagamento">Adicionar Pagamento</button>
              </div>
            </div>
          </div>
        </div>
      </fieldset>
    </form>
    <div class="form-group">
      <div id="collapsePagamentos" name="collapsePagamentos" class="row collapse">
        <div class="col-sm-6">
            <section ui-view="formapagamentoAdd"></section>
        </div>
      </div>
    </div>
    <form name="vm.form.vigenciaButtomForm" ng-submit="pay(vm.form.vigenciaForm.$valid)" novalidate>
    <fieldset>
      <div class="form-group text-right">
        <button type="submit" ng-disabled="totalPagamentoAdd < formapagamentototal" class="btn btn-success">Pagar</button>
      </div>
      <div ng-show="vm.error" class="text-danger">
        <strong ng-bind="vm.error"></strong>
      </div>
    </fieldset>
    </form>

  </div>
</section>
